install.packages('devtools')
devtools::install_github("Computational-Cognitive-Musicology-Lab/humdrumR", build_vignettes = TRUE)
install.packages('devtools')
install.packages('devtools')
devtools::install_github("Computational-Cognitive-Musicology-Lab/humdrumR", build_vignettes = TRUE)
demo()
humdrumR::mint
c(1)
c(1, 3) * 3
(c(1, 3) * 3)
(c(1, 3) * 3) ^ 1
(c(1, 3) * 3) ^ -1
(c(1, 3) * 3) ** 2
(c(1, 3) * 3) |> exp
exp()
library(humdrumR)
chors <- readHumdrum('~/Development/gatech-classes/fall-2022/MUSI-8803/ClassicalMusic/bach/bhchorales/chor')
rns <- with(chors, subset = Exclusive == 'harm', table(.))
plot(rns,
main = "Distribution of Roman Numerals in bhchorale",
xlab = "Roman numeral", # x-axis label
ylab = "Count", # y-axis label
)
rns
rns <- with(chors, table(Token), by = Exclusive)
rns
rns <- with(chors, subset = Exclusive == 'harm', table(.))
rns
# rns <- with(chors, table(Token), by = Exclusive)
rns['II']
# rns <- with(chors, table(Token), by = Exclusive)
rns['III']
# rns <- with(chors, table(Token), by = Exclusive)
rns['III.*']
# rns <- with(chors, table(Token), by = Exclusive)
keys(rns)
type_of(rns)
typeof(rns)
names(rns)
rns <- with(chors, subset = Exclusive == 'harm', gsub(";", "", Token), table(.))
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub(";", "", .), table(.))
rns
rns <- with(chors, subset = Exclusive == 'harm') |> gsub(";", "") |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub(";", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub(";$", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("^;", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub(";$", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(;$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(;$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(\/.*$)", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\[.*\])", gsub("") "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\[.*\])", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\[.*\])", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\[.*\])", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), where = Token == 'I') |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), subset = Token == 'I') |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), subset = . == 'I') |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> subset(Token == 'I') |> table()
rns <- with(chors, subset = Exclusive == 'harm', subset=Token%~%"(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])") |> table()
rns <- with(chors, subset = Exclusive == 'harm', where=Token%~%"(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])") |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), gsub("Foo", "", .)) |> subset(Token == 'I') |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), gsub("Foo", "", .))|> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), gsub("I", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = (Exclusive == 'harm'), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' && TRUE), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' & TRUE), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' && TRUE), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' & TRUE), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' & (Token == 'I')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = (Exclusive == 'harm' & (Token%~%";")), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' & (Token%~%'.*I.*')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = (Exclusive == 'harm' & (Token%~%'I[^I]*')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = (Exclusive == 'harm' & (Token%~%'q')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = (Exclusive == 'harm' & (Token%~%'I')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = (Exclusive == 'harm' & str_detect(Token, 'I')), gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns = rns[, -grep('[iv][[:digit]]', colnames(rns))]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns = rns[, -grep('[iv][[:digit]]', colnames(rns))]
rns = rns[, -grep('[iv]*[[:digit]]', colnames(rns))]
rns = rns[, -grep('[iv]*[:digit]', colnames(rns))]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns = rns[, -grep('[iv]*[:digit]', colnames(rns))]
rns = rns[-grep('[iv]*[:digit]', colnames(rns))]
rns[grep("^d\\d+$", names(rns), invert = TRUE)]
rns[grep("[iv]*[[:digit]]", names(rns), invert = TRUE)]
rns[grep("[iv]*[:digit]", names(rns), invert = TRUE)]
rns[grep("[iv]*[:digit]*", names(rns), invert = TRUE)]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns[grep("[iv]*[:digit]*", names(rns), invert = TRUE)]
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns[grep("[iv][:digit]*", names(rns))]
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))", "", .)) |> table()
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|r", "", .)) |> table()
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)) |> table()
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)) |> table()
rns
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("foo", "", .)) |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("[iv][:digit]*", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv][:digit]*$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv][:digit:]*$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv][[:digit:]]*$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .)) |> table()
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .)) |> drop("") table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .)) |> drop("") |> table()
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .)) |> table()
rns
rns[ , c("")]
rns[c("")]
rns[,c("",)]
rns[,c("")]
rns[""]
plot(rns,
main = "Distribution of Roman Numerals in bhchorale",
xlab = "Roman numeral", # x-axis label
ylab = "Count", # y-axis label
)
colnames(rns)
rns
rns[0]
rns[1]
rns[2]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .))
rns
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .), gsub("(^[iv].*)", "", .)) |> table()
rns
rns['I']
rns['']
rns[' ']
names(rns)
rns[""]
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv].*)", "", .)) |> table()
rns
c("")
rns(c(""))
rns[c("")]
rns[2:]
rns[(2:)]
rns[(2:-1)]
tail(rns, -2)
tail(rns, -1)
tail(rns, -0)
library(humdrumR)
chors <- readHumdrum('~/Development/gatech-classes/fall-2022/MUSI-8803/ClassicalMusic/bach/bhchorales/chor')
rns <- with(chors, subset = Exclusive == 'harm', gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv].*)", "", .)) |> table()
rns[(2:-1)]
tail(rns, -1)
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv].*)", "", .)
) |> table()
rns(c(2:-1))
rns[c(2:-1)]
rns[c(2:)]
rns[c(0:-1)]
rns
rns[c(:-1)]
rns[c(0:-1)]
rns[c(0:-2)]
rns[c(0:-1)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^([iv]*).*)", "", .)
) |> table()
rns
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^([iv]*))", "", .)
) |> table()
rns
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv]*)", "", .)
) |> table()
rns
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv]*.*)", "", .)
) |> table()
rns
#rns = tail(rns, -1) # The first value
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns[grep("[iv][:digit]*", names(rns), invert = TRUE)]
#rns = tail(rns, -1) # The first value
rns[grep("[iv][:digit]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv][:digit]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv][[:digit]]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv][[:digit:]]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv][:digit:]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^([iv])[:digit:]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[:digit:]$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?$", names(rns)), invert=TRUE]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?$", names(rns), invert=TRUE)]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("(^[iv]*)", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("(^([iv])*)", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("(^([iv]*))", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?o?$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?o?$", names(rns), invert=TRUE)]
#rns = tail(rns, -1) # The first value
grep("^[iv]*[[:digit:]]?o?$", names(rns))
[
, invert=TRUE
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*[[:digit:]]?o?$", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[jv]*", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[jv]", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]", names(rns))]
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]", names(rns), invert=TRUE)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv])", "", .)
) |> table()
rns
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]", names(rns), invert=TRUE)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]", names(rns))]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
rns
#rns = tail(rns, -1) # The first value
rns[grep("^[iv]", names(rns), invert=TRUE)]
rns[c(0:-1)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns <- rns[grep("^[iv]", names(rns), invert=TRUE)]
rns[c(0:-1)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)|(\\[.*\\])|(\\(.*\\))|(^r$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns <- rns[grep("(^[iv])", names(rns), invert=TRUE)]
rns[c(0:-1)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns <- rns[grep("(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv])", names(rns), invert=TRUE)]
rns[c(0:-1)]
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
#rns = tail(rns, -1) # The first value
rns <- rns[grep("(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv])", names(rns), invert=TRUE)]
rns
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
# Remove:
# - Alternative functional harmony labels (suffixed with brackets, i.e. '[.*]')
# - Implicit harmonies (surrounded by parens, i.e. '(.*)')
# - Rests (a single 'r')
# - Minor keys (Roman numerals with lowercase letters)
rns <- rns[grep("(\\[.*\\])|(\\(.*\\))|(^r$)|(^[iv])", names(rns), invert=TRUE)]
plot(rns,
main = "Distribution of Roman Numerals in bhchorale",
xlab = "Roman numeral",
ylab = "Count",
)
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
# Remove:
# - Alternative functional harmony labels (suffixed with brackets, i.e. '[.*]')
# - Implicit harmonies (surrounded by parens, i.e. '(.*)')
# - Rests (a single 'r')
# - Minor keys (Roman numerals with lowercase letters)
rns <- rns[grep("(\\[.*\\])|(\\(.*\\))|(^r$)", names(rns), invert=TRUE)]
rns <- rns[grep("(^[IV])", names(rns))]
rns
plot(rns,
main = "Distribution of Roman Numerals in bhchorale",
xlab = "Roman numeral",
ylab = "Count",
)
)
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
rns <- with(chors,
subset = (Exclusive == 'harm' & Token == 'I'),
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
rns <- with(chors,
subset = Exclusive == 'harm',
gsub("(^-)|(^#)|([b-g]*)|(;$)|(/.*$)", "", .)
) |> table()
# Remove:
# - Alternative functional harmony labels (suffixed with brackets, i.e. '[.*]')
# - Implicit harmonies (surrounded by parens, i.e. '(.*)')
# - Rests (a single 'r')
rns <- rns[grep("(\\[.*\\])|(\\(.*\\))|(^r$)", names(rns), invert=TRUE)]
# - Only keep major keys (Roman numerals with uppercase letters)
rns <- rns[grep("(^[IV])", names(rns))]
rns
library(humdrumR)
chors <- readHumdrum(humdrumRroot, 'HumdrumData/BachChorales/chor')
d <- jitter(c(1:20), factor=2)
plot(d)
ch <- chors[5]
with(ch[[,4]], semits(Token)) |> plot(type='l')
?time
v <- sample(1:20, replace=FALSE)
barplot(v)
with(ch, recip(Token), table(.)) |> barplot(main = "", xlab = "Foo", ylab = "booo")
h <- runif(2000, min=1, max=100)
hist(h, breaks=100)
hist(h, breaks = 10) # notice the fewer the breaks, the smoother the data looks.
with(chors, semits(Token), hist(., breaks=15))
n <- 100
x <- rnorm(n)
y <- 23 + 2.2 * x + rnorm(n, sd = 2)
plot(x, y)
ph <- with(chors, semits(Token))
dur <- with(chors, duration(Token))
plot(dur, ph)
with(chors[[,4]], semits(Token), plot(Record, ., col=rainbow(max(File))[File]))
plot.new()
plot.window(ylim = c(-20, 20), xlim = with(chors, range(Record)))
for (file in 1:10) {
with(chors[file], where = Spine == 4, {
points(Record, semits(Token), type = 'l', col = rainbow(10)[file])
})
}
plot(rns,
type='b',
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
plot(rns,
type='bar',
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
plot(rns,
type='hist',
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
plot(rns,
type='b',
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
plot(rns,
type='h',
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
barplot(rns,
main="Distribution of Roman Numerals in bhchorale",
xlab="Roman numeral",
ylab="Count",
)
with(ch[[,4]], semits(Token)) |> plot(type='l')
with(chors, semits(Token)) |> plot(type='l')
[[,4]]
with(ch[[,4]], semits(Token)) |> plot(type='l')
pitch_heights = with(chors, semits(Token))
plot(pitch_heights, type='l')
plot(pitch_heightsh[[,4]], type='l')
plot(pitch_heights[[,4]], type='l')
pitch_heights = with(chors, semits(Token)) |> table()
plot(pitch_heights[[,4]], type='l')
pitch_heights = with(chors, semits(Token))
plot(pitch_heights[,4], type='l')
pitch_heights
pitch_heights[1]
pitch_heights[1,]
pitch_heights[,1]
pitch_heights[[,1]
]
pitch_heights = with(chors, semits(Token)) |> table()
pitch_heights
pitch_heights = with(chors, semits(Token))
typeof(pitch_heights)
pitch_heights
pitch_heights = within(chors, semits(Token))
pitch_heights
pitch_heights = within(chors, kern(Token))
pitch_heights
pitch_heights = within(chors, kern(Token)) |> table()
pitch_heights = with(chors, kern(Token)) |> table()
pitch_heights
pitch_heights = with(chors, semits(Token)) |> table()
pitch_heights
pitch_heights = with(chors, semits(Token))
pitch_heights
pitch_heights = with(chors, by = Spine, semits(Token))
pitch_heights
pitch_heights = with(chors, by = Spine, semits(Token)) |> table()
pitch_heights
pitch_heights = with(chors, semits(.), by = Spine)
pitch_heights
fields(chors)
pitch_heights = with(chors, semits(.), by = Filename)
pitch_heights
with(chors, timeline(Token))
within(chors, timeline(Token))
library(humdrumR)
devtools::install_github("Computational-Cognitive-Musicology-Lab/humdrumR", build_vignettes = TRUE)
devtools::install_github("Computational-Cognitive-Musicology-Lab/humdrumR", build_vignettes = TRUE)
devtools::install_github("Computational-Cognitive-Musicology-Lab/humdrumR", build_vignettes = TRUE)
